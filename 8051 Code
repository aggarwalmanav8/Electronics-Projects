ORG 0H
MOV P1,#0FFH
CLR A
MOV TMOD,#20H
MOV TH1,#-3
MOV SCON,#50H
SETB TR1

HERE: MOV A,P1
MOV R0,#62H
MOV R2,#3
LOOP: MOV B,#10
DIV AB
XCH A,B
ADD A,#30H
MOV @R0,A
XCH A,B
DEC R0
DJNZ R2,LOOP

MOV A,#38H
ACALL COMNWRT
ACALL DELAY
MOV A,#0EH
ACALL COMNWRT
ACALL DELAY
MOV A,#01
ACALL COMNWRT
ACALL DELAY
MOV A,#06H
ACALL COMNWRT
ACALL DELAY
MOV A,#84H
ACALL COMNWRT
ACALL DELAY
MOV A,#'v'
ACALL SEND
ACALL DATAWRT
ACALL DELAY
MOV A,#'='
ACALL SEND
ACALL DATAWRT
ACALL DELAY
MOV A,#' '
ACALL DATAWRT
ACALL DELAY


MOV A,60H
ACALL SEND
ACALL DATAWRT
ACALL DELAY


MOV A,#'p'
ACALL SEND
ACALL DATAWRT
ACALL DELAY

MOV A,61H
ACALL SEND
ACALL DATAWRT
ACALL DELAY



MOV A,62H
ACALL SEND
ACALL DATAWRT
ACALL DELAY

MOV A,#' '
ACALL SEND

MOV A,#' '
ACALL SEND

MOV A,#' '
ACALL SEND

LJMP HERE
COMNWRT: 
MOV P0,A
CLR P2.0
CLR P2.1
SETB P2.2
ACALL DELAY
CLR P2.2
RET
DATAWRT:
MOV P0,A
SETB P2.0
CLR P2.1
SETB P2.2
ACALL DELAY
CLR P2.2
RET
DELAY: MOV R3,#50
HERE2: MOV R4,#255
HERE4: DJNZ R4, HERE4
DJNZ R3,HERE2
RET

SEND:MOV SBUF,A
HEREE:JNB TI,HEREE
CLR TI
RET

END
